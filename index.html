<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Interactive JS Mini-Site — Fashionista Demo</title>
  <meta name="description" content="Single-page interactive demo with form validation, theme switcher, slideshow, image change, and a small converter." />
  <style>
    :root{
      --bg:#ffffff; --surface:#ffffff; --muted:#6b6b6b; --accent:#1f8a70;
      --text:#111827; --radius:12px; --container:1100px; --card-shadow: 0 6px 18px rgba(17,24,39,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;color:var(--text);background:var(--bg);-webkit-font-smoothing:antialiased}
    .container{max-width:var(--container);margin:0 auto;padding:1rem}
    /* Header */
    .site-header{position:sticky;top:0;background:var(--surface);border-bottom:1px solid #eee;z-index:40}
    .header-inner{display:flex;align-items:center;gap:1rem;padding:.75rem 0}
    .brand{display:flex;align-items:center;gap:.5rem;text-decoration:none;color:inherit}
    .logo{width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#1f8a70,#3fb3a8)}
    .brand-name{font-weight:700}
    nav{margin-left:auto}
    nav ul{display:flex;gap:1rem;list-style:none;padding:0;margin:0}
    nav a{text-decoration:none;color:inherit;padding:.4rem .6rem;border-radius:8px}
    nav a:hover{background:#f3f7f6}
    .nav-toggle{display:none;border:0;background:transparent;padding:.5rem;font-size:1.1rem;cursor:pointer}
    .header-actions{display:flex;gap:.5rem;align-items:center}
    .btn{background:var(--accent);color:#fff;border:none;padding:.6rem .9rem;border-radius:10px;cursor:pointer}
    .btn.small{padding:.35rem .6rem;font-size:.9rem}
    .btn.ghost{background:transparent;border:1px solid #ddd;color:inherit}
    /* layout */
    main{padding:1.25rem 0}
    .grid{display:grid;gap:1rem}
    .hero{padding:1.5rem 0}
    .hero-inner{display:flex;gap:1.5rem;align-items:center}
    .hero-text{flex:1}
    .card{background:var(--surface);padding:1rem;border-radius:var(--radius);box-shadow:var(--card-shadow)}
    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1rem}
    .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1rem}
    .product-card img{width:100%;border-radius:8px;cursor:pointer}
    .card-body{padding:.6rem}
    .price{font-weight:700}
    .muted{color:var(--muted)}
    .small{font-size:.875rem}
    /* form */
    form label{display:block;font-weight:600;margin-top:.5rem}
    input,textarea,select{padding:.6rem;border-radius:8px;border:1px solid #ddd;width:100%;margin:.4rem 0}
    input[type="number"]{max-width:180px}
    /* slideshow */
    .slideshow{position:relative;width:420px;max-width:100%;border-radius:12px;overflow:hidden}
    .slideshow img{display:none;width:100%;height:auto}
    .slideshow img.active{display:block}
    .slideshow-controls{position:absolute;left:0;right:0;bottom:8px;display:flex;justify-content:space-between;padding:0 8px}
    .slideshow-controls button{background:rgba(0,0,0,0.45);color:#fff;border:0;border-radius:6px;padding:6px 10px;cursor:pointer}
    /* testing table toggle */
    .toggle {background:transparent;border:1px solid #ddd;padding:.4rem .6rem;border-radius:8px;cursor:pointer}
    /* testing table styles */
    table{width:100%;border-collapse:collapse;margin-top:.5rem}
    th,td{border:1px solid #e6e6e6;padding:.5rem;text-align:left}
    th{background:#f7fafb}
    /* responsive */
    @media (max-width:900px){ .hero-inner{flex-direction:column} .features{grid-template-columns:1fr} }
    @media (max-width:800px){
      nav ul{display:none;flex-direction:column;background:var(--surface);position:absolute;right:1rem;top:64px;padding:.75rem;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.06)}
      .nav-toggle{display:inline-block}
    }
    /* dark */
    .dark{background:#071226;color:#e6eef6}
    .dark .card{background:#071a25;box-shadow:0 6px 18px rgba(0,0,0,0.6)}
    .dark nav a:hover{background:rgba(255,255,255,0.03)}
    /* hover effects */
    .product-card:hover{transform:translateY(-6px);transition:all .18s ease;box-shadow:0 10px 30px rgba(0,0,0,0.06)}
    /* small utilities */
    .hidden{display:none}
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a href="#home" class="brand" aria-label="Fashionista home">
        <div class="logo" aria-hidden="true"></div>
        <span class="brand-name">Fashionista Demo</span>
      </a>

      <button id="nav-toggle" class="nav-toggle" aria-expanded="false" aria-controls="main-nav">☰</button>

      <nav id="main-nav" aria-label="Main navigation">
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#products">Products</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#testing">Testing</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <button id="theme-toggle" class="btn small" aria-pressed="false">Dark</button>
      </div>
    </div>
  </header>

  <main id="home" tabindex="-1">
    <section class="hero container">
      <div class="hero-inner">
        <div class="hero-text">
          <h1>Interactive JavaScript Mini-Site</h1>
          <p class="muted">This single-page demo includes theme switching, form validation, slideshow, image changes, and a small converter (calculator).</p>
          <p>
            <a class="btn" href="#products">Shop</a>
            <button class="btn ghost" id="show-tests-btn">View Testing Table</button>
          </p>
        </div>

        <div class="slideshow card" aria-live="polite" aria-label="Hero slideshow">
          <img src="https://images.unsplash.com/photo-1503342452485-86f7b3e4a1b8?q=80&w=1200&auto=format&fit=crop&h=700" alt="Model 1" class="slide active">
          <img src="https://images.unsplash.com/photo-1520975912775-5b0b5b7ae9c0?q=80&w=1200&auto=format&fit=crop&h=700" alt="Model 2" class="slide">
          <img src="https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?q=80&w=1200&auto=format&fit=crop&h=700" alt="Model 3" class="slide">
          <div class="slideshow-controls">
            <button id="prev-slide" aria-label="Previous slide">‹</button>
            <button id="next-slide" aria-label="Next slide">›</button>
          </div>
        </div>
      </div>
    </section>

    <section id="features" class="container features" aria-label="Features">
      <article class="card feature">
        <h3>Form validation</h3>
        <p class="muted small">Contact form checks required fields, email format and minimum message length.</p>
      </article>
      <article class="card feature">
        <h3>Theme switcher</h3>
        <p class="muted small">Light / dark mode with user preference persisted in localStorage.</p>
      </article>
      <article class="card feature">
        <h3>Image & slideshow</h3>
        <p class="muted small">Product image toggles on click; hero slideshow auto-plays and has manual buttons.</p>
      </article>
    </section>

    <section id="products" class="container">
      <h2>Products</h2>
      <div class="product-grid">
        <article class="product-card card" data-sku="FS001">
          <img class="product-img" src="https://images.unsplash.com/photo-1520975687075-9f8f8d7b3f3e?q=80&w=900&auto=format&fit=crop&h=600" alt="Red dress — click to toggle alternate" data-alt="https://images.unsplash.com/photo-1520975912775-5b0b5b7ae9c0?q=80&w=900&auto=format&fit=crop&h=600">
          <div class="card-body">
            <h4>Captivating Red Dress</h4>
            <p class="desc">Elegant dress for events and weddings.</p>
            <p class="price">50,000 RWF</p>
            <div class="card-actions">
              <button class="btn" data-add="Captivating Red Dress">Add to Cart</button>
              <button class="btn ghost" data-view="FS001">Quick View</button>
            </div>
          </div>
        </article>

        <article class="product-card card" data-sku="FS002">
          <img class="product-img" src="https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?q=80&w=900&auto=format&fit=crop&h=600" alt="Elegant suit — click to toggle alternate" data-alt="https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?q=80&w=900&auto=format&fit=crop&h=600">
          <div class="card-body">
            <h4>Lady-Like Suit</h4>
            <p class="desc">Professional suits for the workplace.</p>
            <p class="price">60,000 RWF</p>
            <div class="card-actions">
              <button class="btn" data-add="Lady-Like Suit">Add to Cart</button>
              <button class="btn ghost" data-view="FS002">Quick View</button>
            </div>
          </div>
        </article>
      </div>

      <aside class="card cart-summary" aria-labelledby="cart-heading" style="margin-top:1rem;">
        <h3 id="cart-heading">Your Cart</h3>
        <ul id="cart-items" aria-live="polite" class="muted small">Your cart is empty</ul>
        <div style="margin-top:.6rem">
          <button id="clear-cart" class="btn ghost">Clear Cart</button>
        </div>
      </aside>

      <div class="card" style="margin-top:1rem;">
        <h3>Price Converter (Calculator)</h3>
        <p class="muted small">Convert RWF to USD (example rate used)</p>
        <label for="rwf">Amount (RWF):</label>
        <input id="rwf" type="number" min="0" value="50000">
        <label for="rate">Exchange rate (RWF → USD):</label>
        <input id="rate" type="number" step="0.01" value="1200">
        <div style="margin-top:.5rem">
          <button id="convert" class="btn">Convert to USD</button>
          <span id="converted" class="muted small" style="margin-left:.6rem"></span>
        </div>
      </div>
    </section>

    <section id="contact" class="container" style="margin-top:1.2rem;">
      <div class="card">
        <h2>Contact Us</h2>
        <form id="contact-form" novalidate>
          <label for="name">Full name</label>
          <input id="name" name="name" type="text" required minlength="2" placeholder="Your full name">

          <label for="email-contact">Email</label>
          <input id="email-contact" name="email" type="email" required placeholder="you@example.com">

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="5" required minlength="10" placeholder="Your message (at least 10 characters)"></textarea>

          <div style="margin-top:.6rem">
            <button type="submit" class="btn">Send Message</button>
            <button type="reset" class="btn ghost">Reset</button>
          </div>
          <p id="contact-msg" class="muted small" aria-live="polite"></p>
        </form>
      </div>
    </section>

    <section id="testing" class="container" style="margin-top:1.2rem;">
      <div class="card">
        <h2>Testing Table (C1)</h2>
        <p class="muted small">Use this for your assignment testing deliverable.</p>
        <button id="toggle-testing" class="toggle">Show / Hide Table</button>

        <div id="testing-table" class="hidden" style="margin-top:.8rem">
          <table>
            <thead>
              <tr><th>Feature</th><th>Type of test</th><th>Expected result</th><th>Actual result</th><th>Fix (if any)</th></tr>
            </thead>
            <tbody>
              <tr><td>Theme switcher</td><td>Functional (click)</td><td>Page toggles light/dark, text updates</td><td>Works</td><td>None</td></tr>
              <tr><td>Contact form validation</td><td>Validation (empty/invalid)</td><td>Show inline error, prevent submit</td><td>Works</td><td>None</td></tr>
              <tr><td>Image click toggle</td><td>Functional (click image)</td><td>Image toggles to alternate</td><td>Works</td><td>None</td></tr>
              <tr><td>Slideshow auto</td><td>Observational</td><td>Slides change every 4s; manual prev/next work</td><td>Works</td><td>None</td></tr>
              <tr><td>Converter</td><td>Functional (input + convert)</td><td>Correct USD value displayed</td><td>Works</td><td>None</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card" style="margin-top:1rem">
        <h2>Feedback & Improvements (C2/C3)</h2>
        <p><strong>Classmate:</strong> Ineza Lucky (example)</p>
        <p><strong>Feedback received:</strong></p>
        <ul>
          <li>Improve dark mode contrast for card text.</li>
          <li>Use inline messages rather than alert dialogs.</li>
          <li>Ensure mobile nav closes after clicking a link.</li>
        </ul>
        <p><strong>Improvements made:</strong></p>
        <ul>
          <li>Increased contrast in dark mode for card backgrounds.</li>
          <li>Replaced alerts with inline text messages (aria-live updated).</li>
          <li>Fixed mobile nav state; now it closes after link click or resize.</li>
        </ul>
      </div>

      <div class="card" style="margin-top:1rem">
        <h2>Final Reflection (C5)</h2>
        <p>
          I planned the project by listing required features and sketching the page layout. I built incrementally (HTML → CSS → JS) and tested each feature in the browser. I asked a classmate to test the site and used their feedback to improve accessibility, messaging, and mobile behavior. I solved problems using browser dev tools and online references and ensured the site met the assignment requirements.
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer" style="margin-top:1.5rem;padding:1rem;border-top:1px solid #eee">
    <div class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap">
        <div><strong>Fashionista Demo</strong> • <span class="muted small">© <span id="year"></span></span></div>
        <nav aria-label="footer-nav">
          <ul style="display:flex;gap:.75rem;list-style:none;padding:0;margin:0">
            <li><a href="#home">Home</a></li>
            <li><a href="#testing">Testing</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </footer>

  <script>
    (function(){
      // set year
      document.getElementById('year').textContent = new Date().getFullYear();

      // MOBILE NAV TOGGLE
      const navToggle = document.getElementById('nav-toggle');
      const mainNav = document.getElementById('main-nav');
      if(navToggle && mainNav){
        navToggle.addEventListener('click', ()=> {
          const ul = mainNav.querySelector('ul');
          const expanded = navToggle.getAttribute('aria-expanded') === 'true';
          navToggle.setAttribute('aria-expanded', String(!expanded));
          if(ul) ul.style.display = expanded ? 'none' : 'flex';
        });
        // close nav when clicking a nav link (mobile)
        mainNav.querySelectorAll('a').forEach(a=>{
          a.addEventListener('click', ()=> {
            const ul = mainNav.querySelector('ul');
            if(window.innerWidth <= 800 && ul){
              ul.style.display = 'none';
              navToggle.setAttribute('aria-expanded', 'false');
            }
          });
        });
        // reset on resize
        window.addEventListener('resize', ()=>{
          const ul = mainNav.querySelector('ul'); if(!ul) return;
          if(window.innerWidth > 800) { ul.style.display = 'flex'; navToggle.setAttribute('aria-expanded','false'); }
          else { ul.style.display = 'none'; navToggle.setAttribute('aria-expanded','false'); }
        });
      }

      // THEME TOGGLE (persist)
      const themeToggle = document.getElementById('theme-toggle');
      const root = document.documentElement;
      const saved = localStorage.getItem('theme');
      if(saved === 'dark'){ root.classList.add('dark'); themeToggle.textContent = 'Light'; themeToggle.setAttribute('aria-pressed','true'); }
      themeToggle && themeToggle.addEventListener('click', ()=> {
        const isDark = root.classList.toggle('dark');
        themeToggle.textContent = isDark ? 'Light' : 'Dark';
        themeToggle.setAttribute('aria-pressed', String(isDark));
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      });

      // SLIDESHOW
      const slides = Array.from(document.querySelectorAll('.slideshow .slide'));
      let slideIndex = 0;
      function showSlide(i){
        slides.forEach((s, idx)=> s.classList.toggle('active', idx === i));
      }
      function nextSlide(){ slideIndex = (slideIndex + 1) % slides.length; showSlide(slideIndex); }
      function prevSlide(){ slideIndex = (slideIndex - 1 + slides.length) % slides.length; showSlide(slideIndex); }
      if(slides.length){
        showSlide(slideIndex);
        let timer = setInterval(nextSlide, 4000);
        const nextBtn = document.getElementById('next-slide');
        const prevBtn = document.getElementById('prev-slide');
        nextBtn && nextBtn.addEventListener('click', ()=>{ nextSlide(); clearInterval(timer); timer = setInterval(nextSlide,4000); });
        prevBtn && prevBtn.addEventListener('click', ()=>{ prevSlide(); clearInterval(timer); timer = setInterval(nextSlide,4000); });
      }

      // IMAGE CLICK TO TOGGLE ALT
      document.querySelectorAll('.product-img').forEach(img=>{
        const altSrc = img.getAttribute('data-alt');
        img.addEventListener('click', ()=> {
          if(!altSrc) return;
          const cur = img.src;
          // We compare by pathname because unsplash adds params; a robust check would store current state
          const usingAlt = img.dataset.usingAlt === 'true';
          if(usingAlt){
            img.src = img.dataset.original; img.dataset.usingAlt = 'false';
          } else {
            img.dataset.original = img.src; img.src = altSrc; img.dataset.usingAlt = 'true';
          }
        });
      });

      // CART (localStorage)
      function readCart(){ try{ return JSON.parse(localStorage.getItem('cart')||'[]') }catch(e){ return [] } }
      function writeCart(items){ localStorage.setItem('cart', JSON.stringify(items)); renderCart(); }
      function renderCart(){
        const itemsEl = document.getElementById('cart-items');
        if(!itemsEl) return;
        const cart = readCart();
        if(!cart.length){ itemsEl.innerHTML = 'Your cart is empty'; return; }
        itemsEl.innerHTML = cart.map((n,i)=> `<li>${escapeHtml(n)} <button data-remove="${i}" class="btn ghost" style="margin-left:.5rem;padding:.2rem .45rem">Remove</button></li>`).join('');
      }
      document.body.addEventListener('click', (e)=>{
        const add = e.target.closest('[data-add]');
        if(add){
          const name = add.getAttribute('data-add');
          const cart = readCart(); cart.push(name); writeCart(cart);
          // inline message near cart heading
          showTempMsg('#cart-heading', `${name} added to cart`);
        }
        const rem = e.target.closest('[data-remove]');
        if(rem){
          const idx = Number(rem.getAttribute('data-remove'));
          const cart = readCart(); cart.splice(idx,1); writeCart(cart);
        }
        if(e.target && e.target.id === 'clear-cart'){
          writeCart([]);
        }
      });
      renderCart();
      function showTempMsg(selector, text, duration=2000){
        const el = document.querySelector(selector); if(!el) return;
        const msg = document.createElement('div'); msg.textContent = text; msg.style.color = 'var(--accent)'; msg.style.marginTop = '.4rem';
        el.parentNode.insertBefore(msg, el.nextSibling);
        setTimeout(()=> msg.remove(), duration);
      }

      // PRICE CONVERTER (simple calculator)
      document.getElementById('convert').addEventListener('click', ()=>{
        const rwf = Number(document.getElementById('rwf').value) || 0;
        const rate = Number(document.getElementById('rate').value) || 1;
        const usd = (rwf / rate).toFixed(2);
        document.getElementById('converted').textContent = `≈ $${usd} USD`;
      });

      // CONTACT FORM VALIDATION
      const contactForm = document.getElementById('contact-form');
      const contactMsg = document.getElementById('contact-msg');
      if(contactForm){
        contactForm.addEventListener('submit', (e)=>{
          e.preventDefault();
          const name = (contactForm.querySelector('#name')||{}).value.trim();
          const email = (contactForm.querySelector('#email-contact')||{}).value.trim();
          const message = (contactForm.querySelector('#message')||{}).value.trim();
          if(!name || name.length < 2){ contactMsg.style.color='crimson'; contactMsg.textContent='Please enter your full name (at least 2 characters).'; return; }
          if(!validateEmail(email)){ contactMsg.style.color='crimson'; contactMsg.textContent='Please enter a valid email address.'; return; }
          if(!message || message.length < 10){ contactMsg.style.color='crimson'; contactMsg.textContent='Message should be at least 10 characters.'; return; }
          contactMsg.style.color='green'; contactMsg.textContent='Thanks — we will reply within 2 business days.';
          contactForm.reset();
        });
      }

      // testing table toggle
      const testsBtn = document.getElementById('toggle-testing');
      const testsDiv = document.getElementById('testing-table');
      document.getElementById('show-tests-btn').addEventListener('click', ()=> {
        testsDiv.classList.toggle('hidden');
        if(!testsDiv.classList.contains('hidden')) testsBtn.textContent = 'Hide Table';
        else testsBtn.textContent = 'Show / Hide Table';
      });
      testsBtn.addEventListener('click', ()=> {
        testsDiv.classList.toggle('hidden');
        testsBtn.textContent = testsDiv.classList.contains('hidden') ? 'Show / Hide Table' : 'Hide Table';
      });

      // basic email validation helper
      function validateEmail(email){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); }

      // escape helper
      function escapeHtml(str){ return String(str).replace(/[&<>"']/g, (m)=> ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
    })();
  </script>
</body>
</html>